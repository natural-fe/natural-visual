<!DOCTYPE html>
<html>
<head>
    <!-- 
        不用考虑数组长度和元素数量的关系
     -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>数据集处理模板</title>
    <!-- <link rel="stylesheet" href=""> -->
</head>
<body>
<main>
<!-- <p></p> -->
</main>

<script src="http://cdn.bootcss.com/d3/3.5.17/d3.js"></script>
<script>

var dataset = [10, 20, 30];
var p = d3.select("main").selectAll("p");

// 分区返回
var update = p.data(dataset);
var enter = update.enter();
var exit = update.exit();

// 分区处理
update.text(function(d) { return d; });
enter.append("p")
     .filter(function(d, i) {
         if(d > 10) {
            return true;
         } else {
            return false;
         }
     }) // 之前main里有p 直接绑上去了一个 ，所以10还在
     .sort(function(a, b) {
        return b-a; // 从大到小排序
     })
     .text( function(d) { return d; });
exit.remove();

</script>    
</body>
</html>